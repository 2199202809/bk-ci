# 服务配置文件模板
spring:
  datasource:
    url: jdbc:mysql://__BK_CI_MYSQL_ADDR__/devops_ci_dispatch?useSSL=false&autoReconnect=true&serverTimezone=GMT%2B8&useUnicode=true&characterEncoding=utf8&allowMultiQueries=true
    username: __BK_CI_MYSQL_USER__
    password: __BK_CI_MYSQL_PASSWORD__

# 服务器端口配置，在同一台机器上部署多个微服务，端口号要不同 21938
server:
  port: __BK_CI_DISPATCH_KUBERNETES_API_PORT__

# kubernetes-dispatch集群配置
kubernetes:
  nameSpace: default
  configMap:
    name: dispatch-kubernetes-init

dispatch:
  build:
    deployment:
      cpu: 1
      memory: 1024M
      disk: 1G
    container:
      registry:
        host: xx.artifactory.xxx
        userName: xxxx
        password: xxxx
    label: bkci-dispatch-kubenetes
    volumeMount:
      path: /etc/config
    volume:
      configMap:
        key: initsh.properties
        path: dispatch_kubernetes_init.sh

pipeline:
  build:
    pool:
      size: 100000

codecc:
  path: __BK_CODECC_DATA_DIR__/tools
  covFile: build_dev.py
  toolFile: build_tool_dev.py
